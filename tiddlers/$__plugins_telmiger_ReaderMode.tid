author: Thomas Elmiger
core-version: >=5.1.17
created: 20181215221709312
description: ReaderMode â€“ a nice, clean reading experience
list: readme license support
modified: 20181215221734512
name: ReaderMode
plugin-type: plugin
source: https://tid.li/tw5/plugins.html
title: $:/plugins/telmiger/ReaderMode
type: application/json
version: 0.5.14

{
    "tiddlers": {
        "$:/plugins/telmiger/ReaderMode/support": {
            "created": "20181215220633595",
            "text": "{{$:/plugins/telmiger/support}}",
            "title": "$:/plugins/telmiger/ReaderMode/support",
            "tags": "",
            "modifier": "Thomas Elmiger",
            "modified": "20181215220839709",
            "creator": "Thomas Elmiger"
        },
        "$:/language/Buttons/ActivateReaderMode/Caption": {
            "created": "20181215164958513",
            "creator": "Thomas Elmiger",
            "text": "Reader mode",
            "title": "$:/language/Buttons/ActivateReaderMode/Caption",
            "tags": "",
            "modified": "20181215200024390",
            "modifier": "Thomas Elmiger"
        },
        "$:/language/Buttons/ActivateReaderMode/Hint": {
            "created": "20181215165252705",
            "creator": "Thomas Elmiger",
            "text": "Activate reader mode",
            "title": "$:/language/Buttons/ActivateReaderMode/Hint",
            "tags": "",
            "modified": "20181217212618266",
            "modifier": "Thomas Elmiger"
        },
        "$:/language/Buttons/ReaderMode/Caption": {
            "created": "20181215165515464",
            "creator": "Thomas Elmiger",
            "text": "Toggle reader mode",
            "title": "$:/language/Buttons/ReaderMode/Caption",
            "tags": "",
            "modified": "20181215194601904",
            "modifier": "Thomas Elmiger"
        },
        "$:/language/Buttons/ReaderMode/Hint": {
            "created": "20181215165354070",
            "creator": "Thomas Elmiger",
            "text": "Switch off reader mode",
            "title": "$:/language/Buttons/ReaderMode/Hint",
            "tags": "",
            "modified": "20181215194545091",
            "modifier": "Thomas Elmiger"
        },
        "$:/plugins/telmiger/ReaderMode/icon": {
            "created": "20181215220238671",
            "text": "{{$:/plugins/telmiger/ReaderMode/images/reader-button}}",
            "title": "$:/plugins/telmiger/ReaderMode/icon",
            "tags": "",
            "modified": "20181215220350311"
        },
        "$:/plugins/telmiger/ReaderMode/images/reader-button": {
            "created": "20181215155845743",
            "creator": "Thomas Elmiger",
            "text": "<svg class=\"tc-image-reader-mode-button tc-image-button\" width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\">\n<path d=\"M8 0a8 8 0 0 0-8 8v112a8 8 0 0 0 8 8h112a8 8 0 0 0 8-8V8a8 8 0 0 0-8-8H8zm26 16a8 8 0 0 0-8 8v80a8 8 0 0 0 8 8h60a8 8 0 0 0 8-8V24a8 8 0 0 0-8-8H24z\" fill-rule=\"evenodd\"/>\n</svg>",
            "title": "$:/plugins/telmiger/ReaderMode/images/reader-button",
            "tags": "$:/tags/Image",
            "modifier": "Thomas Elmiger",
            "modified": "20181215205908724"
        },
        "$:/plugins/telmiger/ReaderMode/license": {
            "created": "20181215220419188",
            "text": "`Reader Mode is published under the MIT License.`\n\n!!! Reader Mode\nThe content of $:/plugins/telmiger/ReaderMode is<br>\nCopyright (c), Thomas Elmiger, https://thomas-elmiger.ch\n\n!!! The MIT License (MIT)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.",
            "title": "$:/plugins/telmiger/ReaderMode/license",
            "tags": "",
            "modifier": "Thomas Elmiger",
            "modified": "20181215220555310",
            "creator": "Thomas Elmiger"
        },
        "$:/plugins/telmiger/ReaderMode/readme": {
            "created": "20181215214533889",
            "creator": "Thomas Elmiger",
            "text": "!! Reader Mode\n\n''Display the story river as a flow of content, without any meta info or functions. A nice, clean document for reading.''\n\nTo support the impression of one single frame, the background of the story is set to the same colour as the tiddler background.\n\nThis plugin provides two buttons:\n\n* The ''Reader mode button'' {{$:/plugins/telmiger/ReaderMode/ui/Buttons/toggle}} to hide elements of your choice (see configuration below) that usually separate tiddlers in the story: \n** tiddler frame, border and shadow\n** title and buttons (tiddler controls)\n** subtitle (date and author/modifier)\n** tags\n* The ''Drag mode button'' {{$:/plugins/telmiger/ReaderMode/ui/Buttons/drag}} to enable and disable dragging of elements within/from the story: \n** drag an element within the story to positions nearby \n** drag from story to sidebar or from sidebar to story to bring elements to distant positions\n** elements are always moved (not duplicated)\n\n!!! Button configuration\n\nWhere to show the Drag Mode button: <br>\n<$checkbox tiddler=\"$:/plugins/telmiger/ReaderMode/ui/Buttons/drag\" tag=\"$:/tags/TopLeftBar\"> Top left bar</$checkbox><br>\n<$checkbox tiddler=\"$:/plugins/telmiger/ReaderMode/ui/Buttons/drag\" tag=\"$:/tags/TopRightBar\"> Top right bar</$checkbox><br>\n<$checkbox tiddler=\"$:/plugins/telmiger/ReaderMode/ui/Buttons/drag\" tag=\"$:/tags/PageControls\"> Page controls</$checkbox>\n\nWhere to show the Reader Mode button: <br>\n<$checkbox tiddler=\"$:/plugins/telmiger/ReaderMode/ui/Buttons/toggle\" tag=\"$:/tags/TopLeftBar\"> Top left bar</$checkbox><br>\n<$checkbox tiddler=\"$:/plugins/telmiger/ReaderMode/ui/Buttons/toggle\" tag=\"$:/tags/TopRightBar\"> Top right bar</$checkbox><br>\n<$checkbox tiddler=\"$:/plugins/telmiger/ReaderMode/ui/Buttons/toggle\" tag=\"$:/tags/PageControls\"> Page controls</$checkbox>\n\n\n!!! Story configuration\n\nBy default, the button {{$:/plugins/telmiger/ReaderMode/ui/Buttons/toggle}} hides/shows tiddler titles and subtitles (author and timestamp) via CSS. This way they are still present in the HTML code. Tiddler controls are displayed much smaller.\n\nAdditionally you can exclude elements from being rendered at all in the next section.\n\n!!!! Exclude from rendering\n\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!title[$:/core/ui/ViewTemplate/body]!list[$:/plugins/telmiger/ReaderMode/blocked]]\">\n<$checkbox tiddler=\"$:/temp/ReaderMode/dummy\" field=<<currentTiddler>> checked=\"YES\" unchecked=\"NO\" default=\"NO\" actions=\"\"\"<$action-listops $tiddler=\"$:/plugins/telmiger/ReaderMode/blocked\" $subfilter=<<currentTiddler>> /><$action-deletetiddler $tiddler=\"$:/temp/ReaderMode/dummy\"/>\"\"\"> <$text text={{!!title}}/></$checkbox><br>\n</$list>\n\n---\n\n<$list filter=\"[all[shadows+tiddlers]list[$:/plugins/telmiger/ReaderMode/blocked]]\">\n<$wikify name=\"unblock\" text=\"-<<currentTiddler>>\">\n<$checkbox  tiddler=\"$:/temp/ReaderMode/dummy\" field=<<currentTiddler>> checked=\"YES\" unchecked=\"NO\" default=\"YES\" actions=\"\"\"<$action-listops $tiddler=\"$:/plugins/telmiger/ReaderMode/blocked\" $subfilter=<<unblock>> /><$action-deletetiddler $tiddler=\"$:/temp/ReaderMode/dummy\"/>\"\"\"> <$text text={{!!title}}/></$checkbox><br>\n</$wikify>\n</$list>\n\nExcluding elements from rendering is possible using a modified [[view template|$:/core/ui/ViewTemplate]] and a [[list of blocked elements|$:/plugins/telmiger/ReaderMode/blocked]].",
            "title": "$:/plugins/telmiger/ReaderMode/readme",
            "tags": "",
            "modifier": "Thomas Elmiger",
            "modified": "20190202094330750"
        },
        "$:/plugins/telmiger/ReaderMode/story.css": {
            "text": "/*\n** Reader Mode\n** (c) Thomas Elmiger\n** \"\"\" \n*/\n\n\nbody .tc-story-river {\n   background-color: <<colour tiddler-background>>;\n}\n\nbody .tc-tiddler-view-frame,\nbody .tc-tiddler-frame .tc-reveal.tc-tiddler-body {\n   margin-top: 0;\n   margin-bottom: 0;\n   padding-top: 0;\n   padding-bottom: 0;\n   border: 0;\n   box-shadow: none;\n   min-height: 1em;\n}\n\nbody .tc-reveal.tc-tiddler-body:first-child {\n    margin-top: 2rem;\n}\n\nbody .tc-tiddler-view-frame .tc-tiddler-body > section:first-child,\nbody .tc-tiddler-view-frame .tc-tiddler-body > header:first-child,\nbody .tc-tiddler-view-frame .tc-tiddler-body > h1:first-child,\nbody .tc-tiddler-view-frame .tc-tiddler-body > h2:first-child {\n    margin-top: 4rem;\n}\n\n\n/* hide tiddler title */\n\nbody .tc-tiddler-view-frame .tc-title,\nbody .tc-tiddler-view-frame .tc-subtitle {\n   display: none;\n}\n\nbody .tc-tiddler-view-frame .tc-tiddler-controls {\n   font-size: 1rem;\n   position: absolute;\n   right: 2rem;\n   margin-top: 2.5rem;\n}\n\n\n/* topbar button */\n\n.tc-topbar button.reader-mode {\n   background-color: white;\n}\n\n.tc-topbar button.reader-mode svg {\n   fill: black;\n}\n\n\n/* End \"\"\" */",
            "title": "$:/plugins/telmiger/ReaderMode/story.css",
            "tags": "$:/tags/Stylesheet",
            "modifier": "Thomas Elmiger",
            "modified": "20190128214101432",
            "creator": "Thomas Elmiger",
            "created": "20181215151220476"
        },
        "$:/plugins/telmiger/ReaderMode/ui/Buttons/toggle": {
            "created": "20181215155225793",
            "creator": "Thomas Elmiger",
            "text": "<$set name=\"qualstate\" value=\"$:/state/ReaderMode\">\n<$reveal type=\"nomatch\" state=<<qualstate>> text=\"active\">\n<$button set=<<qualstate>> setTo=\"active\" tooltip={{$:/language/Buttons/ActivateReaderMode/Hint}} aria-label={{$:/language/Buttons/ActivateReaderMode/Caption}} class=\"tc-btn-invisible reader-mode\">\n<$action-listops $tiddler=\"$:/plugins/telmiger/ReaderMode/story.css\" $tags=\"$:/tags/Stylesheet -$:/tagremoved/Stylesheet\"/>\n<$list filter=\"[<tv-config-toolbar-icons>prefix[yes]]\">\n{{$:/plugins/telmiger/ReaderMode/images/reader-button}}\n</$list>\n<$list filter=\"[<tv-config-toolbar-text>prefix[yes]]\">\n<span class=\"tc-btn-text\"><$text text={{$:/language/Buttons/ActivateReaderMode/Caption}}/></span>\n</$list>\n</$button>\n</$reveal>\n<$reveal type=\"match\" state=<<qualstate>> text=\"active\">\n<$button set=<<qualstate>> setTo=\"inactive\" tooltip={{$:/language/Buttons/ReaderMode/Hint}} aria-label={{$:/language/Buttons/ReaderMode/Caption}} class=\"tc-btn-invisible reader-mode tc-selected\">\n<$action-listops $tiddler=\"$:/plugins/telmiger/ReaderMode/story.css\" $tags=\"$:/tagremoved/Stylesheet -$:/tags/Stylesheet\"/>\n<$list filter=\"[<tv-config-toolbar-icons>prefix[yes]]\">\n{{$:/plugins/telmiger/ReaderMode/images/reader-button}}\n</$list>\n<$list filter=\"[<tv-config-toolbar-text>prefix[yes]]\">\n<span class=\"tc-btn-text\"><$text text={{$:/language/Buttons/ReaderMode/Caption}}/></span>\n</$list>\n</$button>\n</$reveal>\n</$set>",
            "title": "$:/plugins/telmiger/ReaderMode/ui/Buttons/toggle",
            "tags": "$:/tags/PageControls",
            "modifier": "Thomas Elmiger",
            "modified": "20190202100227843",
            "description": "{{$:/language/Buttons/ActivateReaderMode/Hint}}",
            "caption": "{{$:/plugins/telmiger/ReaderMode/images/reader-button}} {{$:/language/Buttons/ActivateReaderMode/Caption}}"
        },
        "$:/plugins/telmiger/support": {
            "created": "20181103150753927",
            "text": "!! Support the Author\n\n''Hi!'' Iâ€™m Thomas, the author of [[tid.li/tw5/plugins.html|https://tid.li/tw5/plugins.html]]. Feedback is always welcome, as well as funding for maintenance, support and new projects :)\n\n---\n\n!!! One Time Support\n\nIf using my plugins just makes you happy, consider a one time payment via ~PayPal to reward the effort:\n\nhttps://www.paypal.me/telmiger\n\n---\n\n!!! Permanent Support\n\nIf my tools make you more productive or save you time in your job or your everyday life, you can support me as a Patron: \n\nhttps://www.patreon.com/telmiger\n\n---\n\n!!! Thank You\n\nSubstantial parts of my availabe time go to the deveopment of useful plugins for [[TiddlyWiki|https://tiddlywiki.com/]]. â€“ Many others do the same and I would like to thank them all, especially [[Jeremy Ruston|https://tiddlywiki.com/#JeremyRuston]] and all the active members of the community!\n\n//Hereby I promise to share future revenues (if any) with other developers whoâ€™s works I use or who inspired me.//\n\nIf you like my work, I would be very happy to hear from you.\n\n''Thank you very much for your support!''<br>\n//Thomas//\n\nhttps://thomas-elmiger.ch",
            "title": "$:/plugins/telmiger/support",
            "tags": "",
            "modifier": "Thomas Elmiger",
            "modified": "20181104091650389",
            "creator": "Thomas Elmiger"
        },
        "$:/core/ui/ViewTemplate": {
            "created": "20190114200812402",
            "creator": "Thomas Elmiger",
            "text": "\\define drop-actions()\n<$action-listops $tiddler=\"$:/StoryList\" $subfilter=\"+[insertbefore:currentTiddler<actionTiddler>]\"/>\n\\end\n\\define drop-below-actions()\n<$action-listops $tiddler=\"$:/StoryList\" $subfilter=\"[<actionTiddler>] +[putafter<currentTiddler>]\"/>\n\\end\n\\define frame-classes()\ntc-tiddler-frame tc-tiddler-view-frame $(missingTiddlerClass)$ $(shadowTiddlerClass)$ $(systemTiddlerClass)$ $(tiddlerTagClasses)$ $(userClass)$\n\\end\n\\define folded-state()\n$:/state/folded/$(currentTiddler)$\n\\end\n<$vars storyTiddler=<<currentTiddler>> tiddlerInfoState=<<qualify \"$:/state/popup/tiddler-info\">> userClass={{!!class}}><$tiddler tiddler=<<currentTiddler>>><div data-tiddler-title=<<currentTiddler>> data-tags={{!!tags}} class=<<frame-classes>>><$set name=\"qualstate\" value=\"$:/state/ReaderMode-Drag\">\n<$reveal type=\"match\" state=<<qualstate>> text=\"active\">\n<div style=\"position: relative;\"><$droppable actions=<<drop-actions>>><div class=\"tc-droppable-placeholder\">\n&nbsp;\n</div>\n<div class=\"my-story-drag-handle\"><$draggable tiddler=<<currentTiddler>>><$set name=\"includeFilter\" filter=\"[[$:/state/ReaderMode]get[text]removeprefix[active]]\" value=\"[all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!list[$:/plugins/telmiger/ReaderMode/blocked]!has[draft.of]]\" emptyValue=\"[all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!has[draft.of]]\"><$list filter=<<includeFilter>> variable=\"listItem\">\n<div><$transclude tiddler=<<listItem>>/></div></$list></$set></$draggable></div></$droppable></div></$reveal>\n<$reveal type=\"nomatch\" state=<<qualstate>> text=\"active\">\n<$set name=\"includeFilter\" filter=\"[[$:/state/ReaderMode]get[text]removeprefix[active]]\" value=\"[all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!list[$:/plugins/telmiger/ReaderMode/blocked]!has[draft.of]]\" emptyValue=\"[all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!has[draft.of]]\"><$list filter=<<includeFilter>> variable=\"listItem\"><$transclude tiddler=<<listItem>>/></$list>\n</$set></$reveal></$set>\n</div></$tiddler></$vars>",
            "title": "$:/core/ui/ViewTemplate",
            "tags": "",
            "modifier": "Thomas Elmiger",
            "modified": "20190121064658252"
        },
        "$:/plugins/telmiger/ReaderMode/blocked": {
            "created": "20190120220119635",
            "creator": "Thomas Elmiger",
            "title": "$:/plugins/telmiger/ReaderMode/blocked",
            "list": "$:/core/ui/ViewTemplate/title $:/core/ui/ViewTemplate/subtitle",
            "modified": "20190121065430957",
            "modifier": "Thomas Elmiger"
        },
        "$:/plugins/telmiger/ReaderMode/ui/Buttons/drag": {
            "created": "20190116192223885",
            "creator": "Thomas Elmiger",
            "text": "<$set name=\"qualstate\" value=\"$:/state/ReaderMode-Drag\">\n<$reveal type=\"nomatch\" state=<<qualstate>> text=\"active\">\n<$button set=<<qualstate>> setTo=\"active\" tooltip={{$:/language/Buttons/ActivateDragMode/Hint}} aria-label={{$:/language/Buttons/ActivateDragMode/Caption}} class=\"tc-btn-invisible reader-mode\">\n<$list filter=\"[<tv-config-toolbar-icons>prefix[yes]]\">\n{{$:/plugins/telmiger/ReaderMode/images/drag-button}}\n</$list>\n<$list filter=\"[<tv-config-toolbar-text>prefix[yes]]\">\n<span class=\"tc-btn-text\"><$text text={{$:/language/Buttons/ActivateDragMode/Caption}}/></span>\n</$list>\n</$button>\n</$reveal>\n<$reveal type=\"match\" state=<<qualstate>> text=\"active\">\n<$button set=<<qualstate>> setTo=\"inactive\" tooltip={{$:/language/Buttons/DragMode/Hint}} aria-label={{$:/language/Buttons/DragMode/Caption}} class=\"tc-btn-invisible reader-mode tc-selected\">\n<$list filter=\"[<tv-config-toolbar-icons>prefix[yes]]\">\n{{$:/plugins/telmiger/ReaderMode/images/drag-button}}\n</$list>\n<$list filter=\"[<tv-config-toolbar-text>prefix[yes]]\">\n<span class=\"tc-btn-text\"><$text text={{$:/language/Buttons/DragMode/Caption}}/></span>\n</$list>\n</$button>\n</$reveal>\n</$set>",
            "title": "$:/plugins/telmiger/ReaderMode/ui/Buttons/drag",
            "tags": "$:/tags/TopRightBar $:/tags/PageControls",
            "modifier": "Thomas Elmiger",
            "modified": "20190202100313384",
            "description": "{{$:/language/Buttons/ActivateDragMode/Hint}}",
            "caption": "{{$:/plugins/telmiger/DragMode/images/reader-button}} {{$:/language/Buttons/ActivateReaderMode/Caption}}"
        },
        "$:/plugins/telmiger/ReaderMode/images/drag-button": {
            "text": "<svg class=\"tc-image-reader-mode-button tc-image-button\" width=\"22pt\" height=\"22pt\" viewBox=\"0 0 22 22\">\n<path d=\"M15.3 4c.4.4.4 1.2 0 1.6-.5.5-1.3.5-1.7 0l-1.4-1.3v5.5h5.5l-1.3-1.3c-.5-.5-.5-1.3 0-1.7.4-.5 1.2-.5 1.7 0l3.4 3.4c.4.4.4 1.2 0 1.7L18 15.3c-.5.4-1.3.4-1.7 0-.5-.5-.5-1.3 0-1.7l1.3-1.4h-5.5v5.5l1.3-1.3c.5-.5 1.3-.5 1.7 0 .5.4.5 1.2 0 1.7l-3.4 3.4c-.4.4-1.2.4-1.7 0L6.7 18c-.4-.5-.4-1.3 0-1.7.5-.5 1.3-.5 1.7 0l1.4 1.3v-5.5H4.3l1.3 1.3c.5.5.5 1.3 0 1.7-.4.5-1.2.5-1.7 0L.5 11.8c-.4-.4-.4-1.2 0-1.7L4 6.7c.5-.4 1.3-.4 1.7 0 .5.5.5 1.3 0 1.7L4.3 9.8h5.5V4.3L8.5 5.6c-.5.5-1.3.5-1.7 0-.5-.4-.5-1.2 0-1.7L10.2.5c.4-.4 1.2-.4 1.7 0L15.3 4z\"/>\n</svg>\n",
            "title": "$:/plugins/telmiger/ReaderMode/images/drag-button",
            "tags": "$:/tags/Image",
            "modifier": "Thomas Elmiger",
            "modified": "20190116200342893",
            "creator": "Thomas Elmiger",
            "created": "20190116200203022"
        },
        "$:/language/Buttons/ActivateDragMode/Caption": {
            "text": "Drag mode",
            "title": "$:/language/Buttons/ActivateDragMode/Caption",
            "tags": "",
            "modifier": "Thomas Elmiger",
            "modified": "20190116201209884",
            "creator": "Thomas Elmiger",
            "created": "20190116201151553"
        },
        "$:/language/Buttons/ActivateDragMode/Hint": {
            "text": "Activate drag mode",
            "title": "$:/language/Buttons/ActivateDragMode/Hint",
            "tags": "",
            "modifier": "Thomas Elmiger",
            "modified": "20190116201135153",
            "creator": "Thomas Elmiger",
            "created": "20190116201118706"
        },
        "$:/language/Buttons/DragMode/Caption": {
            "text": "Toggle drag mode",
            "title": "$:/language/Buttons/DragMode/Caption",
            "tags": "",
            "modifier": "Thomas Elmiger",
            "modified": "20190116201107805",
            "creator": "Thomas Elmiger",
            "created": "20190116201038233"
        },
        "$:/language/Buttons/DragMode/Hint": {
            "text": "Switch off drag mode",
            "title": "$:/language/Buttons/DragMode/Hint",
            "tags": "",
            "modifier": "Thomas Elmiger",
            "modified": "20190116201029632",
            "creator": "Thomas Elmiger",
            "created": "20190116200942999"
        }
    }
}